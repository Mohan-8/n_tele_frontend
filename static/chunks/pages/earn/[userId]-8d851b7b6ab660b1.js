(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{5907:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/earn/[userId]",function(){return r(9087)}])},3121:function(e,a,r){"use strict";var t=r(5893);r(7294);var n=r(1664),s=r.n(n),o=r(5781),c=r.n(o),i=r(5675),l=r.n(i);a.Z=e=>{let{userId:a}=e;return(0,t.jsxs)("div",{className:c().footer,children:[(0,t.jsxs)(s(),{href:"/?userId=".concat(a),"aria-label":"Go to Home",className:c().footerItem,children:[(0,t.jsx)(l(),{src:"/home.png",alt:"Home",width:50,height:50}),(0,t.jsx)("span",{children:"Home"})]}),(0,t.jsxs)(s(),{href:"/earn/".concat(a),"aria-label":"Go to Earn",className:c().footerItem,children:[(0,t.jsx)(l(),{src:"/earn.png",alt:"Earn",width:50,height:50}),(0,t.jsx)("span",{children:"Earn"})]}),(0,t.jsxs)(s(),{href:"/friends/".concat(a),"aria-label":"Go to Friends",className:c().footerItem,children:[(0,t.jsx)(l(),{src:"/frens.png",alt:"Friends",width:50,height:50}),(0,t.jsx)("span",{children:"Frens"})]}),(0,t.jsxs)(s(),{href:"/airdrop/".concat(a),"aria-label":"Go to Airdrop",className:c().footerItem,children:[(0,t.jsx)(l(),{src:"/airdrop.png",alt:"Airdrop",width:50,height:50}),(0,t.jsx)("span",{children:"Airdrop"})]})]})}},5526:function(e,a,r){"use strict";var t=r(5893);r(7294);var n=r(1483),s=r.n(n),o=r(5675),c=r.n(o);a.Z=()=>(0,t.jsxs)("div",{className:s()["loading-screen"],children:[(0,t.jsx)(c(),{src:"/aelon.png",alt:"LOADING PIC",style:{marginRight:"10px",borderRadius:"50%"},width:200,height:200}),(0,t.jsx)("br",{}),(0,t.jsx)("div",{className:s().loader})," "]})},9087:function(e,a,r){"use strict";r.r(a);var t=r(5893),n=r(7294),s=r(1163),o=r(3121),c=r(5526),i=r(5395),l=r.n(i);r(2422);var d=r(5675),u=r.n(d),h=r(5255);a.default=()=>{let e=(0,s.useRouter)(),{userId:a}=e.query,[r,i]=(0,n.useState)(0),[d,_]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),[m,p]=(0,n.useState)(!1),[x,k]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(a){_(!0);try{let e=await (0,h.FQ)(a),r=new Date(e.lastlogin);k(r),new Date-r<864e5?(p(!1),g("You have already claimed your streak in the last 24 hours.")):p(!0);let t=await (0,h.l9)(a);i(t.streakCount)}catch(e){console.error("Error fetching user or streak data:",e),g("Failed to load streak data.")}finally{_(!1)}}})()},[a]);let j=async()=>{_(!0);try{let{streakCount:r,rewards:t,pointsEarned:n}=await (0,h.pH)(a);g("Login successful! You earned ".concat(n," points. Total points: ").concat(t)),i(r),p(!1),k(new Date),setTimeout(()=>{e.push("/?userId=".concat(a))},2e3)}catch(e){console.error("Error logging in:",e),g("Failed to claim streak.")}finally{_(!1)}};return d?(0,t.jsx)(c.Z,{}):(0,t.jsxs)("div",{className:l()["earn-container"],children:[(0,t.jsx)(u(),{width:50,height:50,src:"/back.png",alt:"Back",className:l()["back-icon"],onClick:()=>{e.push("/?userId=".concat(a))}}),(0,t.jsx)("h2",{className:l().header,children:"Earn"}),f&&(0,t.jsx)("p",{className:l().message,children:f}),(0,t.jsxs)("div",{className:l()["streak-section"],children:[(0,t.jsx)("h3",{children:"Daily Login Streak"}),(0,t.jsxs)("p",{className:l()["streak-details"],children:["Current Streak: ",r,"/7.",(0,t.jsx)("br",{}),"Points to Claim: ",6*r," Tokens"]}),(()=>{let e=Array.from({length:7},(e,a)=>(0,t.jsx)("div",{className:"".concat(l()["streak-day"]," ").concat(a<r?l().filled:"")},a));return(0,t.jsx)("div",{className:l()["streak-container"],children:e})})(),m?(0,t.jsx)("button",{onClick:j,className:l()["claim-button"],children:"Claim Streak"}):(0,t.jsx)("p",{className:l()["disabled-message"],children:"You cannot claim your streak at this time."})]}),(0,t.jsx)(o.Z,{userId:a})]})}},5255:function(e,a,r){"use strict";r.d(a,{FQ:function(){return s},l9:function(){return o},pH:function(){return c},xu:function(){return i}});var t=r(7066);let n="https://ntelebackend-production.up.railway.app/api/user",s=async e=>{try{return(await t.Z.get("".concat(n,"/").concat(e))).data}catch(e){throw console.error("Error fetching user data:",e),e}},o=async e=>{try{return(await t.Z.get("".concat(n,"/").concat(e,"/streak"))).data}catch(e){throw console.error("Error fetching streak data:",e),e}},c=async e=>{try{return(await t.Z.post("".concat(n,"/").concat(e,"/login"))).data}catch(e){throw console.error("Error logging in:",e),e}},i=async e=>{try{return(await t.Z.get("".concat(n,"/referrals/").concat(e))).data}catch(e){throw console.error("Error fetching referral count:",e.response?e.response.data:e.message),e}}},2422:function(){},5395:function(e){e.exports={header:"Earn_header__85AIb","user-info":"Earn_user-info__GKJ_v","user-profile":"Earn_user-profile__VRebE","streak-section":"Earn_streak-section__nyXEp","streak-details":"Earn_streak-details__G5rZi","streak-container":"Earn_streak-container__YqM2s","streak-day":"Earn_streak-day__FWWMn",filled:"Earn_filled__YF2SX","claim-button":"Earn_claim-button__1cYqj",disabled:"Earn_disabled__ulA5L",message:"Earn_message__76g2X","back-icon":"Earn_back-icon__4kvdB"}},5781:function(e){e.exports={footer:"Footer_footer__JrJN9",footerItem:"Footer_footerItem___G_xQ"}},1483:function(e){e.exports={"loading-screen":"LoadingScreen_loading-screen__USELs",loader:"LoadingScreen_loader__LbPhX",l2:"LoadingScreen_l2__yxYh9"}}},function(e){e.O(0,[640,66,888,774,179],function(){return e(e.s=5907)}),_N_E=e.O()}]);